

<nz-card class="card-header-custom"  [nzTitle]='"Contacts" | translate' [nzExtra]="editContacts">
    <div class="card-body-round" >
      <div class="content" style="width: 100%; height: 310px;">
        <ag-grid-angular
          [rowData]="rowData"
          [enableCellTextSelection]="true"
          [columnDefs]="colDefs"
          [defaultColDef]="defaultColDef" 
          [context]="this"
        />
        <!-- 
          [pagination]="true"
          [paginationPageSize]="paginationPageSize"
          [paginationPageSizeSelector]="paginationPageSizeSelector"
          -->
      </div>
    </div>
  </nz-card>
  <ng-template #editContacts>
    
    <img [src]="'/assets/img/icons/svg/openmodal.svg'" class="modalIco modDocsModalIco" (click)="showModal(fileManagment.id)">
    
    <button nz-button  nzPlacement="bottomRight" class="mp-button-light" (click)="Edit()">
        {{'Add contact'|translate}}
    </button>
  </ng-template>




  <nz-modal id="file_edit" [(nzVisible)]="isVisibleAddContact" [nzWidth]="575" [nzFooter]="null" [nzContent]="editTemplate" (nzOnCancel)="isVisibleAddContact=false">
    <ng-template #editTemplate>       
            @if(onloadingContact==true){ 
                <div class="loading-container">
                  <nz-spin nzSimple  nzTip="Loading..."  slot="header-actions-end"></nz-spin>
                </div> 
              }@else{  
                @if(SubmitedSuccessfullAddContact==false){ 
                  <div nz-row  style="height: 100%;" >
                    <div nz-col [nzSpan]="24" class="edit-modal-header">
                          <h6>{{'Add Contact' | translate }}</h6>          
                    </div>                   
                  </div>
                  <nz-divider nzPlain nzVariant="solid"></nz-divider>
                  <div nz-row  style="height: 100%;" >
                    <div nz-col [nzSpan]="12"></div>
                    <div nz-col [nzSpan]="12" style="text-align:right;">
                      <button nz-button nzType="primary" [nzSize]="'large'" id="createNewContact" (click)="openDrawer()">
                        <span> {{'Create a new contact'|translate}}</span>
                      </button>
                    </div>
                  </div>

                  <!--<div class="example-header">
                    <label>
                      <span>Selection mode: </span>
                      <select id="input-selection-mode" (change)="updateSelectionOptions()">
                        <option value="singleRow">singleRow</option>
                        <option value="multiRow">multiRow</option>
                      </select>
                    </label>
                  </div>-->

                  <div nz-row  style="height: 350px;">   
                    <div nz-col [nzSpan]="24" style="height: 350px;" >    
                      <ag-grid-angular                    
                      [rowSelection]="rowSelectionContact"
                      [rowData]="rowDataContacts"
                      [columnDefs]="colDefsContact"
                      [defaultColDef]="defaultColDefContacts" 
                      [enableCellTextSelection]="true"
                      [context]="this"
                      [pagination]="true"
                      [paginationPageSize]="paginationPageSize"
                      [paginationPageSizeSelector]="paginationPageSizeSelector"
                      (gridReady)="onGridReady($event)"
                      [theme]="myTheme"
                    />

                    </div>               
                  </div>
        
                  <div nz-row  style="height: 100%; margin-top: 20px;">
                        <div nz-col [nzSpan]="12"></div>
                        <div nz-col [nzSpan]="12" style="text-align:right;">
                          <button nz-button  id="cancelContact" (click)="isVisibleAddContact=false">
                            {{'Cancel'|translate}}
                          </button>
                          <button  nz-button nzType="primary" nzDanger id="addContact" (click)="onFileAddContact()">
                            {{'Add'|translate}}
                          </button>
                        </div>
                                                             
                  </div>               
        
                }
              }

        

        
    </ng-template>
</nz-modal>
